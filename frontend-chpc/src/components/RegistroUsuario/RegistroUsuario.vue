<template>
    <div>
      <!-- Header con opciÃ³n para ir a la pÃ¡gina principal -->
      <HeaderAnth
        :searchQuery="searchQuery"
        :isAuthenticated="isAuthenticated"
        @buscar="buscarProductos"
        @cerrar-sesion="cerrarSesion"
      />
    </div>
    <br>
  
    <div class="register-container">
      <h2>Crear Una Cuenta</h2>
      <p><router-link to="/">Inicio</router-link> / Registro</p>
  
      <form @submit.prevent="register">
        <div class="input-group">
          <label for="nombre_usuario">Nombre de usuario *</label>
          <input
            v-model="nombre_usuario"
            id="nombre_usuario"
            type="text"
            placeholder="Nombre de usuario"
            required
            @input="clearError('nombre_usuario')"
          />
          <p v-if="errors.nombre_usuario" class="error">{{ errors.nombre_usuario }}</p>
        </div>
  
        <div class="input-group">
          <label for="email">Correo electrÃ³nico *</label>
          <input
            v-model="email"
            id="email"
            type="email"
            placeholder="Correo electrÃ³nico"
            required
            @input="clearError('email')"
          />
          <p v-if="errors.email" class="error">{{ errors.email }}</p>
        </div>
  
        <div class="input-group">
          <label for="telefono">TelÃ©fono</label>
          <input
            v-model="telefono"
            id="telefono"
            type="text"
            placeholder="NÃºmero de telÃ©fono"
            @input="clearError('telefono')"
          />
          <p v-if="errors.telefono" class="error">{{ errors.telefono }}</p>
        </div>
  
        <div class="input-group">
          <label for="direccion">DirecciÃ³n</label>
          <input
            v-model="direccion"
            id="direccion"
            type="text"
            placeholder="DirecciÃ³n"
            @input="clearError('direccion')"
          />
          <p v-if="errors.direccion" class="error">{{ errors.direccion }}</p>
        </div>
  
        <div class="input-group">
          <label for="contraseÃ±a">ContraseÃ±a *</label>
          <div class="password-container">
            <input
              v-model="contraseÃ±a"
              id="contraseÃ±a"
              :type="passwordVisible ? 'text' : 'password'"
              placeholder="ContraseÃ±a"
              required
              @input="clearError('contraseÃ±a')"
            />
            <span class="toggle-password" @click="togglePasswordVisibility">
              {{ passwordVisible ? 'ğŸ‘ï¸' : 'ğŸ™ˆ' }}
            </span>
          </div>
          <p v-if="errors.contraseÃ±a" class="error">{{ errors.contraseÃ±a }}</p>
        </div>
  
        <button type="submit" class="register-button">Registrarse</button>
  
        <p class="account-info">
          Â¿Ya tiene una cuenta? 
          <router-link to="/login">Inicie sesiÃ³n aquÃ­</router-link>
        </p>
      </form>
  
      <p v-if="error" class="error">{{ error }}</p>
      <p v-if="success" class="success">{{ success }}</p>
    </div>
  </template>
<script src="./RegistroUsuario.js"></script>
<style src="./RegistroUsuario.css"></style>  